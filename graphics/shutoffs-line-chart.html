<!-- Bar chart including:
  cutom title for tool tip,
  comma and $ on tool tip and y-axis,
  custom colors
-->


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>
    	Capital News Service
    </title>

    <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,400i,700,700i|Poppins:300,400,500,600,700&amp;subset=latin-ext" rel="stylesheet">

    <!-- Load c3.css -->
  <link href="css/c3.css" rel="stylesheet">

  <link href="css/style.css" rel="stylesheet">

  <!-- Load our css -->
  <link href="css/graphics-css.css" rel="stylesheet">

	<!-- Load d3.js and c3.js -->
	<script src="js/d3.min.js" charset="utf-8"></script>
	<script src="js/c3.min.js"></script>

  </head>

  <body>
   	<div id="container">
   		<h1 class="highcharts-title">BGE Low-Income Customer Turnoffs (2009-2018)</h1>

   		<text class="highcharts-subtitle" y="60">
   			<tspan>BY DANIELLE KIEFER AND NOAH JOHNSON</tspan>
   			<!-- ^^ PUT YOUR NAME HERE, TAKE CREDIT FOR YOUR COOL WORK ^^ -->
   			<tspan onclick="location.href=&quot;http://cnsmaryland.org&quot;"> | CAPITAL NEWS SERVICE</tspan>
   			<br>
        <p>The Maryland Public Service Commission collects monthly reports from Maryland power companies like Baltimore Gas and Electric (BGE) that show the number of low-income customers whose power is turned off. Customers are defined as low-income if they receive bill payment assistance. Due to weather restrictions that make turning power off during the winter more difficult, most turn-offs occur between April and October, peaking in October with about 16 percent of total shut-offs occurring during that month.</p>
      </text>
   		<div id="turnoffs-line-chart"></div>
   		<div id="source"><text><a href="https://www.psc.state.md.us/annual-utility-reports/"><tspan>Source: Maryland Public Service Commission</tspan></a></text></div>
   		<!-- ^^ PUT YOUR SOURCE HERE AND LINK IT^^ -->
   	</div>
   	<script type="text/javascript">


var chart = c3.generate({
  bindto: '#turnoffs-line-chart',
    data: {

        columns: [

            ['BGE', 2.66, 2.97, 2.94, 10.87, 12.22, 11.76, 8.78, 10.84, 11.14, 16.20, 4.76, 4.85],
			['Other Companies', 1.20, 1.35, 2.27, 15.75, 13.26, 13.01, 10.49, 12.44, 13.23, 15.16, 1.14, 0.71]
        ],
        types: {
            BGE: 'line',
			      Other_Companies: 'line'

        },
        groups: [['data1', 'data2']]
    },
      color: {
          pattern: ['#cc0000', '#cc9900','#ffffff']
      },
 //ADD COMMA AND DOLLAR SIGN TO TOOL TIP
        tooltip: {
            format: {
                value: function(value) {
                    return d3.format(",.2f")(value)
                }
            }
        },
          //ADD COMMA AND DOLLAR SIGN TO Y AXIS
        axis : {
        y : {
            tick: {
                format: d3.format(",")
                //
//                format: function (d) { return "$" + d; }
            }
        },
			y: {
            label: {
                text: 'Percent',
                position: 'outer-middle'
            }
        },
        x: {
          type: 'category',
            categories: ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May', 'June', 'July', 'Aug.', 'Sept.', 'Oct.', 'Nov.', 'Dec.']
        }
    },
  //HIDE LEGEND
    legend: {
hide: 'data1'
  //or hide: ['data1', 'data2']
},
  //CUSTOM TITLE FOR TOOPTIP
    tooltip: {
        format: {
            title: function (index) {
              if (index == 0) {
                return 'January'
              } if (index == 1) {
              return 'February'
            } if (index == 2){
              return 'March'
            } if (index == 3){
              return 'April'
            } if (index == 4){
              return 'May'
            } if (index == 5){
              return 'June'
            } if (index == 6){
              return 'July'
            } if (index == 7){
              return 'August'
            } if (index == 8){
              return 'September'
            } if (index == 9){
              return 'October'
            } if (index == 10){
              return 'November'
            }

                else {
                  return 'December'
                }

            },
            name: function (name, ratio, id, index) { return name; },
            value: function (value, ratio, id, index) { return value; }

    //            value: d3.format(',') // apply this format to both y and y2
        }
    }
    });




 	 </script>
  </body>

</html>
